# Unity 씬 빠른 설정 가이드

## 1. 오브젝트 생성 및 위치 설정

### 필수 오브젝트들:

#### 1) **CameraTarget** (빈 오브젝트)
- **역할**: 카메라가 바라볼 중심점, 회전 중심축
- **위치**: Transform Position (0, 1, 0)
- **설명**: 화면 중앙에 옷이 보이게 하는 기준점

#### 2) **ClothingDisplay** (빈 오브젝트)
- **역할**: 옷 표시 시스템의 메인 오브젝트
- **위치**: Transform Position (0, 0, 0)
- **스크립트**: ClothingModel 추가

#### 3) **ModelParent** (ClothingDisplay의 자식 오브젝트)
- **역할**: 3D 옷 모델들이 동적으로 생성될 부모
- **위치**: Transform Position (0, 0, 0) (Local)
- **설명**: 
  ```
  옷 변경 시 동작:
  1. 기존 옷 모델 → ModelParent에서 삭제
  2. 새 옷 모델 → ModelParent 하위에 생성
  3. 결과: ModelParent/Tshirt(Clone) 또는 ModelParent/Shorts(Clone)
  ```

#### 4) **WebGLManager** (빈 오브젝트)
- **역할**: 웹 통신 및 데이터 로드 담당
- **위치**: Transform Position (0, 0, 0)
- **스크립트**: WebGLCommunicator + OutfitDataLoader 추가

#### 5) **Main Camera** (이미 있음)
- **위치**: Transform Position (0, 1.5, 3)
- **회전**: Transform Rotation (0, 0, 0)
- **설명**: CameraTarget(0,1,0)을 바라보도록 배치

## 2. 스크립트 참조 연결

### WebGLCommunicator 설정:
```
Clothing Model: ClothingDisplay 오브젝트 드래그
Outfit Data Loader: WebGLManager 오브젝트 드래그 (자기 자신)
Main Camera: Main Camera 드래그
Camera Target: CameraTarget 오브젝트 드래그
```

### ClothingModel 설정:
```
Model Parent: ModelParent 오브젝트 드래그
Model Rotation: (0, 0, 0)
Model Scale: (1, 1, 1)
```

### OutfitDataLoader 설정:
```
Json File Name: "outfits.json"
Use Local File: ✓ 체크
Server Url: "https://yourserver.com/api/outfits"
```

## 3. 동작 원리 이해

### 카메라 시스템:
```
사용자가 마우스로 드래그 → 웹에서 RotateCamera 호출
→ Main Camera가 CameraTarget 주위로 원형 회전
→ 항상 CameraTarget(옷이 있는 지점)을 바라봄
```

### 옷 변경 시스템:
```
웹에서 ChangeClothingFromWeb('tshirt_001') 호출
→ JSON에서 'tshirt_001' 데이터 검색
→ topCategory: "Tshirt" 확인
→ Resources/Tshirt.prefab 로드
→ ModelParent 하위에 인스턴스 생성
→ 결과: ModelParent/Tshirt(Clone)
```

## 4. 실제 Hierarchy 예시

```
SampleScene
├── Main Camera                    (Position: 0, 1.5, 3)
├── Directional Light             (기본 조명)
├── CameraTarget                  (Position: 0, 1, 0) ← 카메라가 바라볼 지점
├── WebGLManager                  (Position: 0, 0, 0)
│   ├── WebGLCommunicator (Script)
│   └── OutfitDataLoader (Script)
└── ClothingDisplay               (Position: 0, 0, 0)
    ├── ClothingModel (Script)
    └── ModelParent               (Position: 0, 0, 0) ← 3D 모델 생성 위치
```

## 5. 테스트 방법

### Play 모드에서 확인:
1. Console에 "옷 데이터 로드 완료: 2개" 메시지 확인
2. Scene 뷰에서 CameraTarget 주위에 카메라가 올바르게 배치되었는지 확인
3. ModelParent가 CameraTarget 근처에 있어야 함 (옷이 화면에 보이도록)

### Inspector에서 테스트:
1. ClothingModel의 ChangeClothing 메서드를 직접 호출
2. ModelParent 하위에 옷 모델이 생성되는지 확인
3. 카메라가 ModelParent 방향을 바라보고 있는지 확인

## 6. 문제 해결

### "3D 모델을 찾을 수 없습니다" 에러:
- Assets/Resources/ 폴더에 Tshirt.prefab, Shorts.prefab 확인

### 카메라가 아무것도 비추지 않음:
- CameraTarget과 ModelParent 위치가 비슷한지 확인
- Main Camera가 CameraTarget 방향을 바라보고 있는지 확인

### 옷이 너무 크거나 작게 보임:
- ClothingModel의 Model Scale 조정 (예: 0.5, 0.5, 0.5)
- 또는 Main Camera 위치를 더 멀리/가까이 이동